TODO for Cline.


Goal: make production usable


- [ ] Add history table including who did what
    - [ ] Special users for "system". Must point to some usage. Then handled in display.
    - [x] History table for emails
        Example actions
        - [x] Email received
        - [x] Email classified by user (include status type, status text, answer)
        - [x] Email classified by prompt (auto classification)
        - [x] Email sent
        - [X] Email ignored
- [ ] Old threads
    - [x] Remove extra labels
    - [ ] Open some labels to public
    - [ ] Clean up old threads by archiving them
- [ ] Update-imap - Run on schedule
- [ ] Email - Switch ID to UUID

- [ ] Thread - Staging => ready for sending => sent
    - [x] Add new sending status
    - [x] UI - Update Thread from "STAGING" to "READY_FOR_SENDING"
        - view-thread.php: Add button to change status. Look at "toggle_public_to" for inspiration
        - ThreadViewPageTest.php: Add test for this
        - ThreadViewPageTest.php: Add test for other actions

    - [ ] Scheduled updater for sending. Take Thread from "READY_FOR_SENDING" to "SENT"
    - [ ] thread__send-email.php - Remove this

- [ ] Views available for public
    - [ ] Public threads visible to non authenticated users
    - [ ] Front page with information

- [ ] Update-imap - folder creation should be done in class so that logic is the same in tests and update-imap.php
- [ ] GUI for replying to threads
    - [ ] Reply form with rich text editor
    - [ ] Template system for common responses
    - [ ] Attachment upload functionality
- [ ] New thread concepts
    - Reply to thread
    - Enable notiication for replies
    - Automatic follow up

- [ ] Automatic testing of rendering av PHP pages by using PHPUnit tests that sends basic requests to the backend.
    - [x] Start with one test and start a framework for making tests
    - [x] Add e2e-tests to github actions run
    - [x] Add e2e-tests to .clinerules
    - [x] Stucture e2e-tests
        - [x] Refactor to use a common class for setup
        - [x] Refactor to one test file per page
        - [ ] Test that all pages are accessible



TODO - medium term:
- [ ] Automatic follow up
    - [ ] Scheduled email sending system
    - [ ] Response tracking
    - [ ] Automated reminder system
    - [ ] Configurable follow-up rules
